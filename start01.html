<!DOCTYPE html>
<html>

<head>
	<title>Electric Dreams</title>

	<style type="text/css">
		/*style the computer text, input, and button*/
		body {
			font-family: monospace;
			font-size: 2em;
			background-image:url("BACKGROUND.PNG");
			background-size:cover;
			
}

		button {
			display: none;
		}

		input {
			font-size: 1em;
			font-family: monospace;
			border:1px solid white;
		}

		.red {
			color: red;
		}

		.green {
			color: rgb(74, 247, 31);
		}

		h1 {
			color: white;
		}

		main {
			width:670px;
			height:346px;
			margin:152px 392px;
      padding:0em 1em 2em 1em;
			border: 1px solid rgb(74, 247, 31);
			background-color: rgb(32, 66, 36);
			opacity: 0.9;
		}
		.displaayNone{
			display:none;
		}
	</style>
</head>

<body>
	<main>
		<h1>Electric Dreams</h1>
		<p id="computer" class="green">Hii, how are you today?</p>
		<input id="human" type="text" placeholder="Type your response...">
		<button>Enter</button>

	</main>

	<script type="text/javascript">
		const computer = document.querySelector("#computer")
		const human = document.getElementById("human")
		const button = document.getElementsByTagName("button")[0]

		let computerMsg = ""
		let humanMsg = ""
		let questionTrack = "start"

		button.addEventListener("click", clickerHandler)

		function clickerHandler() {
			playGame();
		}
		window.addEventListener("keydown", keydownHandler)

		function keydownHandler(event) {
			if (event.keyCode == 13 || event.keyCode == 10) {
				playGame();
			}
		}

		let randomResponses = ["I hate you", "You are my best friend", "Maybe we should stop talking", "The sky is blue."]

		function playGame() {
			humanMsg = (human.value).toLowerCase()
			if (questionTrack == "start") {
				startEval()
			} else if (questionTrack == "color") {
				colorEval()
			} else if (questionTrack == "dog") {
				dogEval()
			} else if (questionTrack == "fight") {
				fightEval()
			} else if (questionTrack == "sad") {
				sadEval()
			} else if (questionTrack == "dogOwner") {
				dogOwnerEval()
			} else if (questionTrack == "cat") {
				catEval()
			} else if (questionTrack == "joke") {
				jokeEval()
			} else if (questionTrack == "cute") {
				cuteEval()
			} else {
				genericResponse()
			}
			//if (humanMsg.indexOf("tired") !== -1){
			//	computerMsg.innerHTML = "You better get some sleep."
			//}	else if (humanMsg.indexOf("sleepy") !== -1){
			//	computerMsg.innerHTML = "You must know Snow White."
			//	}	else if (humanMsg.indexOf("exhausted") !== -1){
			//		computerMsg.innerHTML = "You should get a bit to eat."
			//	} else {
			//	genericResponse()
			//	}//end if
			//end game

			computer.innerHTML = computerMsg
			human.value = ""
		}

		function startEval() {
			if (humanMsg.indexOf("good") !== -1) {
				computerMsg = "Glad to hear that. What is your favorite color?"
				questionTrack = "color"
			} else if (humanMsg.indexOf("bad") !== -1) {
				computerMsg = "You sound depressed. Do you like dogs?"
				questionTrack = "dog"
			} else {
				genericResponse()
			}
		}

		function colorEval() {
			if (humanMsg.indexOf("red") !== -1) {
				computerMsg = "You must have a temper. Do you want to fight?"
				questionTrack = "fight"
				//main.classList.add("redBG") //？？
			} else if (humanMsg.indexOf("blue") !== -1) {
				computerMsg = "I thought you said you were feeling good. Are you sure you are not sad?"
				questionTrack = "sad"
				//main.classList.add("blueBG")//？？
			} else {
				genericResponse()
			}
		}

		function dogEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "I like dog too. Do you have a dog?"
				questionTrack = "dogOwner"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "Maybe you like cat?"
				questionTrack = "cat"
			} else {
				genericResponse()
			}
		}

		function fightEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "Do you want to fight with a dog?"
				questionTrack = "dogOwner"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "To bad. Are you a catperson?"
				questionTrack = "cat"
			} else {
				genericResponse()
			}
		}//
		function sadEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "I am sorry to hear that. Do you want me to tell a joke?"
				questionTrack = "joke"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "Great! Do you like cat?"
				questionTrack = "cat"
			} else {
				genericResponse()
			}
		}//

		function catEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "Wonderful! Do you think cat is a cute animal?"
				questionTrack = "cute"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "Do you like dog?"
				questionTrack = "dog"
			} else {
				genericResponse()
			}
		}//

		function dogOwnerEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "Wonderful! Do you have a dog?"
				questionTrack = "dogOwner"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "To bad. Are you a catperson?"
				questionTrack = "cat"
			} else {
				genericResponse()
			}
		}//
		function jokeEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "What is red and smells like blue paint?Red paint..Is't funny?"
				questionTrack = "color"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "You must have a temper. Do you want to fight?"
				questionTrack = "fight"
			} else {
				genericResponse()
			}
		}//

		function cuteEval() {
			if (humanMsg.indexOf("yes") !== -1) {
				computerMsg = "Same with me! Do you want me to tell a joke?"
				questionTrack = "joke"
			} else if (humanMsg.indexOf("no") !== -1) {
				computerMsg = "You must have a temper. Do you want to fight?"
				questionTrack = "fight"
			} else {
				genericResponse()
			}
		}


		function genericResponse() {
			if (randomResponses.length > 0) {
				const ranNum = Math.floor(Math.random() * randomResponses.length)
				console.log(ranNum);
				computerMsg = randomResponses[ranNum]
				randomResponses.splice(ranNum, 1)
			} else {
				computerMsg = "I am done with you puny human."
				human.ClassName = "dispalyNone"
				setTimeout(endGame,2000)
				}
		}
	function endGame() {
			location.assign("http://google.com")
		}
	</script>
</body>

</html>
